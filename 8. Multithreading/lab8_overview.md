# Многопоточность и Погода

## Задание

Требуется реализовать запрос погоды в указанных местах за указанные даты.

Поскольку реальный прогноз будущей погоды возможен только на несколько недель,
в этом задании предлагается запрашивать исторические данные о погоде за
нужные даты за несколько прошлых лет и агрегировать их.

В рамках одного `WeatherRequest` происходит несколько запросов к Open Meteo API
(по одному запросу на каждое место и на каждый год),
поэтому сервис должен уметь выполнять несколько запросов к Open Meteo API одновременно.

Функция `WebClient::Get` уже может быть вызвана из нескольких потоков одновременно.
Предлагается вызывать эту функцию из нескольких потоков при обработке запроса погоды.
Детали реализации остаются на усмотрение автора кода.

Open Meteo API может ограничивать максимальную частоту запросов.
Это не должно приводить к ошибке пользовательского запроса.

Пример: летом 2025 года сервис получает запрос погоды в Зеленограде
на даты с 1 по 7 января. Сервис запрашивает погоду с 1 по 7 января за
несколько прошлых лет (2025, 2024, 2023). Сервис считает минимальную,
максимальную и среднюю температуры за все запрошенные дни
(с 1 по 7 января 2025 года, 2024 года и 2023 года). Сервис отдает пользователю
один набор значений (минимальная, максимальная и средняя температуры).
Все три запроса к Open Meteo API инициируются одновременно.

## Требования к реализации

1. Во время выполнения запроса погоды, код должен делать несколько запросов к Open Meteo API одновременно.
Желательно, чтобы код делал максимально допустимое количество запросов.

2. Требуется использовать "простой" Open Meteo API запрос,
принимающий параметры `latitude`, `longitude`, `start_date`, `end_date`, `daily`
и реализованный в `OpenMeteoApiUtils.cc`.

Целью данного задания является продемонстрировать работу с многопоточностью, а не избежать ее.

## Подсказки

* См. `Weather`, `WeatherRequest` и `WeatherResponse` в `proto/geo.proto`.

* В `src/search/OpenMeteoApiUtils.h` есть утилиты для работы с Open Meteo API
и для генерации исторических диапазонов дат.

* Требуется реализовать функцию `SearchEngine::GetWeather`, функцию `GeoServiceImpl::GetWeather`, реактор `GetWeatherReactor` (по аналогии с `GetRegionsReactor` и `GetCitiesReactor`).
